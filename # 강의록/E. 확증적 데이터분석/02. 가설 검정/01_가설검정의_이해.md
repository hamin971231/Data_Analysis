# 가설검정의 이해

통계적 추측의 하나로서, 모집단 실제의 값이 얼마가 된다는 주장과 관련해, 표본의 정보를 사용해서 가설의 합당성 여부를 판정하는 과정

## #01. 추정

### 1. 확률표본

- 확률분포는 분포를 결정하는 평균，분 산 등의 모수 (parameter)를 가지고 있다.
- 특정한 확률분포로부터 독립적으로 반복해 표본을 추출하는 것이다 .
- 각 관찰값들은 서로 독립적이며 동일한 분포를 갖는다 .

### 2. 추정

- 표본으로부터 미지의 모수를 추측

#### 1) 점추정

- ‘모수가 특정한 값일 것’ 이라고 추정하는 것
- 표본의 평균 , 중위수 , 최빈값 등을 사용

#### 2) 구간추정

- 점추정의 정확성을 보완하기 위해 확률로 표현된 믿음의 정도 하에서 모수가 특정한 구간에 있을 것이라고 선언하는 것
- 항상 추정량의 분포에 대한 전제가 주어져야 하고 구해진 구간 안에 모수가 있을 가능성의 크기 (신뢰수준)가 주어져야 한다.

## #02. 가설검정

모집단에 대한 어떤 가설을 설정한 뒤에 표본관찰을 통해 그 가설의 채택여부를 결정하는 분석방법

```
💡 ex) 새로 개발한 백신이 감기를 예방하는데 효과가 있는지 여부를 결정하는 분석
```

귀무가설이 옳다는 전제하에 검정통계량 값을 구한 후에 이 값이 나타날 가능성의 크기에 의해 귀무가설의 채택여부를 결정한다.

통계적인 유의성을 검정하는 것으로, 유의성 검정(Significance Test)이라고도 한다.

### 1. 가설검정의 절차

```plain
💡 가설 설정 ▶ 유의수준 설정 ▶ 검정통계량 산출 ▶ 기각/채택 판단
```

### 2. 주요 용어

#### 1) 설명변수($x$)

- `○○이 ■■에 주는 영향`에서 `○○`에 해당
- `독립변수`라고 부르기도 함

#### 2) 반응변수($y$)

- `○○이 ■■에 주는 영향`에서 `■■`에 해당
- `종속변수`라고 부르기도 함

#### 3) 귀무가설(영가설, $H0$)

- 일반적으로 맞다고 가정하는 가설
- 모집단 평균(`μ`)이 가설 평균(`μ0`)과 **차이가 없다, 영향력이 없다, 연관성이 없다, 효과가 없다. (부정)**

```
💡 설명변수(`x`)는 반응변수(`y`)에 영향을 주지 않는다.
```

##### 예시

```plain
💡 새로 개발한 백신은 감기 예방에 영향을 주지 않는다.
💡 새로 개발한 백신은 감기 예방과 연관성이 없다.
💡 새로 개발한 백신은 감기 예방에 효과가 없다.
```

#### 4) 대립가설($H1$)

- 분석가가 증명하고자 하는 가설
- 귀무 가설에 대한 부정
- 모집단 평균(`μ`)이 가설 평균(`μ0`)과 **차이가 있다, 영향력이 있다, 연관성이 있다, 효과가 있다. (긍정)**.

```plain
💡 설명변수(`x`)는 반응변수(`y`)에 영향을 준다.
```


##### 예시

```plain
💡 새로 개발한 백신은 감기 예방에 영향을 준다.
💡 새로 개발한 백신은 감기 예방과 연관성이 있다.
💡 새로 개발한 백신은 감기 예방에 효과가 있다.
```

#### 5) 검정 통계량 (test statistic)

- 귀무 가설이 맞거나 틀린 것을 증명하려면 어떤 증거가 있어야 한다. 이 증거에 해당하는 숫자를 검정 통계량(test statistics)라고 한다.
    - 관찰된 표본으로부터 구하는 통계량
    - 검정 시 가설의 진위를 판단하는 기준

##### 관찰된 표본 예시

```plain
💡 백신을 접종한 집단 A에 대한 감기 발병률
💡 백신을 접종 하지 않은 집단 B에 대한 감기 발병률
```

#### 6) 유의수준 (significance level,  $a$)

> `p-value`

- 가설이 어느 정해진 수치를 벗어나면 귀무가설이 오류라고 인정할 것인가를 판단하는 기준.
    - 즉, 귀무가설을 기각하게 되는 확률의 크기
    - 일반적으로 `5%`로 본다.

```
💡 감기가 걸린 환자 100명에서 백신을 접종하게 했을 때 예방이 감기에 걸리지 않은 사람이 95% 이상이라면 감기에 걸린 사람은 유의수준 5% 미만이므로 백신이 효과가 있는 것으로 본다.
```

`p-value`는 귀무 가설(null hypothesis)이 맞다는 전제 하에, 표본에서 실제로 관측된 통계치와 '같거나 더 극단적인' 통계치가 관측될 확률이다.

`p-value`는 관찰된 데이터가 귀무가설과 양립하는 정도를 0에서 1 사이의 수치로 표현한 것이다.

p-value가 작을수록 그 정도가 약하다고 보며, 특정 값 (대개 0.05나 0.01 등) 보다 작을 경우 귀무가설을 기각하는 것이 관례.

#### 7) 신뢰수준

유의수준의 반대.

위 예시에서 유의수준이 `0.05`이므로 신뢰수준은 `0.95`가 된다.

#### 8) 기각역 (critical region, $C$)

- 귀무가설이 옳다는 전제 하에서 구한 검정통계량의 분포에서 확률이 유의수준 $a$인 부분
- 반대는 채택역(acceptance region)

## #02. 가설검정의 오류

### 제1종 오류

귀무가설이 사실인데도 불구하고 사실이 아니라고 판정하여 대립가설을 채택(귀무가설을 기각)하는 경우

실제 확률은 유의수준(p-value)으로 나타낸다.

### 제2종 오류

귀무가설이 거짓인데도 불구하고 사실이라고 판정하여 대립가설을 기각(귀무가설을 채택)

## #03. 비모수 검정

### 1. 모수적 방법

- 검정하고자 하는 모집단의 분포에 대한 가정을 하고 , 그 가정하에서 검정통계량과 검정통계량의 분포를 유도해 검정을 실시하는 방법
- 가정된 분포의 모수에 대해 가설을 설정
- 관측된 자료를 이용해 구한 표본평균，표본분산 등을 이용해 검정을 실시

### 2. 비모수적 방법

- 자료가 추출된 모집단의 분포에 대한 아무 제약을 가하지 않고 검정을 실시하는 방법
- 관측된 자료가 특정분포를 따른다고 가정할 수 없는 경우에 이용
- 관측된 자료의 수가 많지 않거나 (30개 미만) 자료가 개체간의 서열관계를 나타내는 경우에 이용
- 가정된 분포가 없으므로 가설은 단지 ‘분포의 형태가 동일하다’ 또는 ‘분포의 형태가 동일 하지 않다 ’와 같이 분포의 형태에 대해 설정
- 관측값의 절대적인 크기에 의존하지 않는 관측값들의 순위 (rank) 나 두 관측값 차이의 부호 등을 이용해 검정


## #04. T검정(T-Test)

모집단의 분산이나 표준편차를 알지 못할 때, 표본으로부터 추정된 분산이나 표준편차를 이용하여 두 모집단의 평균에 통계적으로 유의한 차이가 있는지 알아볼 때 사용하는 통계 분석 기법

> 가설 검정을 수행하기 위한 통계 기법

| 종류 | 설명 |
|--|--|
| 단일 표본 t-검정<br/>`One-Sample T-test` | 하나의 모집단 평균이 이전보다 커졌는지/작아졌는지/달라졌는지를 통계적으로 알아보기 위해 사용 |
| 독립 표본 t-검정<br/>`Independent two sample T-test` | 서로 다른 두개의 그룹 간 평균의 차이가 유의미한지 여부를 판단 |
| 대응 표본 t-검정<br/>`Paired T-test` | 표본의 각 사례마다 대응하는 2개의 관측치를 통해 판단<br/>쉽게 풀이하면 한 집단에 어떤 작용이 가해졌을 때에 대한 before, after를 비교 |